name: 'Versions'
description: 'Deduce the version to stage and the next SNAPSHOT version'
inputs:
  current-version:
    description: 'The current version number'
    required: true
  release-type:
    description: 'The type of release being performed'
    required: true
outputs:
  release-version:
    description: 'The version should be released'
    value: ${{ steps.deduce-versions.outputs.release-version }}
  next-version:
    description: 'The version to use for the next SNAPSHOT'
    value: ${{ steps.deduce-versions.outputs.next-version }}
runs:
  using: composite
  steps:
    - name: Deduce Versions
      id: deduce-versions
      shell: bash
      run: . ${{ github.action_path }}/deduce-versions.sh; deduce_versions
      env:
        CURRENT_VERSION: "${{ inputs.current-version }}"
        RELEASE_TYPE: "${{ inputs.release-type }}"
